title: Обработка Событий
type: guide
order: 6
---

Вы можете использовать директиву `v-on` для того чтобы назначить обработчики событий DOM. Обработчиком может быть, как функция, так и выражение. В случае, если в качестве обработчика используется функция, она получит событие DOM в качестве одного из аргументов. Событие также будет содержать дополнительное свойство: `targetVM`, которое указывает на Модель Представления в которой оно было вызванно.

``` html
<div id="demo">
  <a v-on="click: onClick">Trigger a handler</a>
  <a v-on="click: n++">Trigger an expression</a>
</div>
```

``` js
new Vue({
  el: '#demo',
  data: {
    n: 0
  },
  methods: {
    onClick: function (e) {
      console.log(e.target.tagName) // "A"
      console.log(e.targetVM === this) // true
    }
  }
})
```

## Вызов Обработчика с Выражением

`targetVM` может применяться, когда `v-on` используется с директивой `v-repeat`, так как последняя создаёт большое количество дочерних экземпляров Vue. Однако, обычно, более удобно использовать выражение `this`, указывающее на текущую Модель Представления:

``` html
<ul id="list">
  <li v-repeat="items" v-on="click: toggle(this)">{{text}}</li>
</ul>
```

``` js
new Vue({
  el: '#list',
  data: {
    items: [
      { text: 'one', done: true },
      { text: 'two', done: false }
    ]
  },
  methods: {
    toggle: function (item) {
      item.done = !item.done
    }
  }
})
```

Если вы хотите получить доступ к событию DOM в выражении, вы можете указать его как `$event`:

``` html
<button v-on="click: submit('hello!', $event)">Submit</button>
```

``` js
/* ... */
{
  methods: {
    submit: function (msg, e) {
      e.stopPropagation()
    }
  }
}
/* ... */
```

## Специальный Фильтр `key`

При обработке событий нажатия клавиш, часто требуется проверять их значения. Vue.js предоставляет специальный фильтр `key` который используется только с директивой `v-on`. Он получает единственный аргумент описывающий код клавиши для проверки:

``` html
<!-- only call vm.submit() when the keyCode is 13 -->
<input v-on="keyup:submit | key 13">
```

Также вы можете использовать названия для некоторых клавиш:

``` html
<!-- same as above -->
<input v-on="keyup:submit | key 'enter'">
```

В разделе API доступен [полный список клавиш](/api/filters.html#key).

## Использование Обработчиков в HTML?

Возможно, вы обеспокоены тем, что такой подход к обработке событий нарушает старое доброе правило о разделении. На самом деле беспокоиться не о чем – все функции и выражения жёстко привязаны к Модели Представления, и не могут вызвать каких-либо сложностей при поддержке проекта. Использование `v-on` приносит некоторые преимущества:

1. Упрощается поиск функции обработчика в JS коде - требуется просто посмотреть в шаблон.
2. Так как не требуется вручную указывать обработчики событий в JS, код Модели Представления остаётся свободным от DOM. Такой код проще тестировать.
3. При уничтожении Модели Представления, обработчики событий автоматически удаляются. Не требуется делать это вручную.

Далее: [Управление Формами](/guide/forms.html).
